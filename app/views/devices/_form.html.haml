= form_with(model: device, local: true, builder: BulmaFormBuilder::FormBuilder) do |form|
  - if device.errors.any?
    #error_explanation.notification
      %h2
        = pluralize(device.errors.count, "error")
        prohibited this device from being saved:
      %ul
        - device.errors.full_messages.each do |message|
          %li= message
  .field
    = form.label :name
    = form.text_field :name
  - if @location
    = form.hidden_field(:location_id)
  - else
    .field
      = form.label :location_id
      .select
        = form.collection_select :location_id, Location.all, :id, :name, prompt: 'select location (or add new >)'
      - if device.new_record?
        = form.text_field :create_new_location
      -#= form.label :or_new_location
  .field
    = form.label :select_kind
    -# TODO distinct
    .select
      = form.select :other_kind, Device.pluck(:kind).uniq, prompt: 'select kind (or create new >)'
    = form.text_field :kind
  -#.field
  -#  = form.label :kind
  .field
    = form.label :manufacturer
    = form.text_field :manufacturer
  .field
    = form.label :model
    = form.text_field :model
  .field
    = form.label :num_links
    = form.number_field :num_links
  .field
    = form.label :description
    = form.text_area :description

  .actions
    = form.submit class: 'button is-primary'
